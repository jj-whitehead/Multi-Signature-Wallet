{"version":3,"sources":["utils.js","components/Header.jsx","components/Approvers.jsx","components/Transfers.jsx","components/CreateTransfer.jsx","components/Body.jsx","components/App.jsx","index.js"],"names":["getWallet","web3","a","eth","net","getId","networkId","contractDeployment","Wallet","networks","Contract","abi","address","Header","className","style","color","role","aria-label","width","border","Approvers","approvers","quorum","minHeight","overflow","map","approver","index","key","Transfers","transfers","approveTransfer","handleClick","event","target","name","id","amount","to","approvals","sent","onClick","CreateTransfer","createTransfer","useState","transfer","setTransfer","handleChange","value","onSubmit","preventDefault","type","placeholder","onChange","Body","App","undefined","setWeb3","accounts","setAccounts","wallet","setWallet","setApprovers","setQuorum","setTransfers","loading","setLoading","reload","setReload","useEffect","Promise","resolve","reject","window","addEventListener","ethereum","Web3","enable","alert","getAccounts","methods","getApprovers","call","getTransfers","init","wei","send","from","on","hash","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8854fd8a.chunk.js","sourcesContent":["import Wallet from \"./contracts/Wallet.json\";\nimport Web3 from \"web3\";\n\nconst getWeb3 = () => {\n\treturn new Promise((resolve, reject) => {\n\t\twindow.addEventListener(\"load\", async () => {\n\t\t\tif (window.ethereum) {\n\t\t\t\tconst web3 = new Web3(window.ethereum);\n\t\t\t\ttry {\n\t\t\t\t\tawait window.ethereum.enable();\n\t\t\t\t\tresolve(web3);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t} else if (window.web3) {\n\t\t\t\tresolve(window.web3);\n\t\t\t} else {\n\t\t\t\twindow.alert(\"Must install Metamask Extension!\\nDApp will not load\");\n\t\t\t\treject(\"Must install Metamask Extension!\");\n\t\t\t}\n\t\t});\n\t});\n};\n\nconst getWallet = async (web3) => {\n\tconst networkId = await web3.eth.net.getId();\n\tconst contractDeployment = Wallet.networks[networkId];\n\treturn new web3.eth.Contract(Wallet.abi, contractDeployment && contractDeployment.address);\n};\n\nexport { getWeb3, getWallet };\n","import React from \"react\";\n\nexport default function Header() {\n\treturn (\n\t\t<nav className=\"navbar mt-3\">\n\t\t\t<p className=\"navbar-brand font-weight-bold ml-5 mb-0\" style={{ color: \"#325fea\" }}>\n\t\t\t\t<span role=\"img\" aria-label=\"dollar-bag\">\n\t\t\t\t\tðŸ’°\n\t\t\t\t</span>{\" \"}\n\t\t\t\tMultiSig Wallet\n\t\t\t</p>\n\t\t\t<hr style={{ width: \"100%\", border: \"solid 2px #879ab7\" }} />\n\t\t</nav>\n\t);\n}\n","import React from \"react\";\n\nexport default function Approvers({ approvers, quorum }) {\n\treturn (\n\t\t<div style={{ border: \"solid 3px #325fea\", minHeight: \"200px\", width: \"100%\" }}>\n\t\t\t<h5 className=\"text-center mt-3\">Approvers Address</h5>\n\t\t\t<div className=\"mr-auto ml-auto my-3\" style={{ width: \"90%\", overflow: \"scroll\", color: \"#879ab7\" }}>\n\t\t\t\t<ul>\n\t\t\t\t\t{approvers.map((approver, index) => {\n\t\t\t\t\t\treturn <li key={index}>{approver}</li>;\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<p className=\"mt-3 ml-3 font-italic\">\n\t\t\t\tQuorum: <span className=\"font-weight-bold\">{quorum}</span>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function Transfers({ transfers, approveTransfer }) {\n\tconst handleClick = (event) => {\n\t\tapproveTransfer(event.target.name);\n\t};\n\n\treturn (\n\t\t<div className=\"mt-3\" style={{ border: \"solid 3px #325fea\", minHeight: \"200px\", width: \"100%\" }}>\n\t\t\t<h5 className=\"text-center mt-3\">Transfers - Approvals</h5>\n\t\t\t<table className=\"mr-auto ml-auto my-3\" style={{ width: \"90%\", color: \"#879ab7\" }}>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Id</th>\n\t\t\t\t\t\t<th>Amount</th>\n\t\t\t\t\t\t<th>To</th>\n\t\t\t\t\t\t<th>Approvals</th>\n\t\t\t\t\t\t<th>Sent</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{transfers.map(({ id, amount, to, approvals, sent }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={id}>\n\t\t\t\t\t\t\t\t<td>{id}</td>\n\t\t\t\t\t\t\t\t<td>{amount}</td>\n\t\t\t\t\t\t\t\t<td>{to}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{approvals}\n\t\t\t\t\t\t\t\t\t<button name={id} className=\"ml-2 btn btn-warning\" onClick={handleClick}>\n\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{sent ? \"Yes\" : \"No\"}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\n\nexport default function CreateTransfer({ createTransfer }) {\n\tconst [transfer, setTransfer] = useState();\n\n\tconst handleChange = (event) => {\n\t\tsetTransfer({ ...transfer, [event.target.name]: event.target.value });\n\t};\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tcreateTransfer(transfer);\n\t};\n\n\treturn (\n\t\t<div className=\"mt-3 mx-3\">\n\t\t\t<h5>Create Transfer</h5>\n\t\t\t<form className=\"mt-4\" onSubmit={handleSubmit}>\n\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t<div className=\"input-group-text\">Wei</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input name=\"wei\" className=\"form-group mb-0\" type=\"text\" placeholder=\"\" onChange={handleChange} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t<div className=\"input-group-text\">To</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input name=\"to\" className=\"form-group mb-0 w-75\" type=\"text\" placeholder=\"\" onChange={handleChange} />\n\t\t\t\t</div>\n\n\t\t\t\t<button className=\"btn btn-info btn-sm mt-1\" style={{ width: \"100%\" }}>\n\t\t\t\t\tSubmit Transfer\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Approvers from \"./Approvers\";\nimport Transfers from \"./Transfers\";\nimport CreateTransfer from \"./CreateTransfer\";\n\nexport default function Body({ approvers, quorum, transfers, createTransfer, approveTransfer }) {\n\treturn (\n\t\t<div className=\"mx-3 my-5\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-lg-5 \">\n\t\t\t\t\t<Approvers approvers={approvers} quorum={quorum} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-7\">\n\t\t\t\t\t<CreateTransfer createTransfer={createTransfer} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Transfers transfers={transfers} approveTransfer={approveTransfer} />\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getWallet } from \"../utils\";\nimport Header from \"./Header\";\nimport Body from \"./Body\";\n\nexport default function App() {\n\tconst [web3, setWeb3] = useState(undefined);\n\tconst [accounts, setAccounts] = useState(undefined);\n\tconst [wallet, setWallet] = useState(undefined);\n\tconst [approvers, setApprovers] = useState([]);\n\tconst [quorum, setQuorum] = useState(undefined);\n\tconst [transfers, setTransfers] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [reload, setReload] = useState(0);\n\n\tuseEffect(() => {\n\t\tconst init = async () => {\n\t\t\tconst web3 = await getWeb3();\n\t\t\tconst accounts = await web3.eth.getAccounts();\n\t\t\tconst wallet = await getWallet(web3);\n\t\t\tconst approvers = await wallet.methods.getApprovers().call();\n\t\t\tconst quorum = await wallet.methods.quorum().call();\n\t\t\tconst transfers = await wallet.methods.getTransfers().call();\n\t\t\tsetWeb3(web3);\n\t\t\tsetAccounts(accounts);\n\t\t\tsetWallet(wallet);\n\t\t\tsetApprovers(approvers);\n\t\t\tsetQuorum(quorum);\n\t\t\tsetTransfers(transfers);\n\t\t\tsetLoading(false);\n\t\t};\n\t\tinit();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (reload !== 0) {\n\t\t\tconst init = async () => {\n\t\t\t\tconst wallet = await getWallet(web3);\n\t\t\t\tconst transfers = await wallet.methods.getTransfers().call();\n\t\t\t\tsetTransfers(transfers);\n\t\t\t\tsetLoading(false);\n\t\t\t};\n\t\t\tinit();\n\t\t}\n\t}, [reload, accounts, web3, quorum, approvers]);\n\n\tconst createTransfer = async ({ wei, to }) => {\n\t\tsetLoading(true);\n\t\tawait wallet.methods\n\t\t\t.createTransfer(wei, to)\n\t\t\t.send({ from: accounts[0] })\n\t\t\t.on(\"transactionHash\", (hash) => {\n\t\t\t\tsetReload(reload + 1);\n\t\t\t});\n\t};\n\n\tconst approveTransfer = async (id) => {\n\t\tsetLoading(true);\n\t\tawait wallet.methods\n\t\t\t.approveTransfer(id)\n\t\t\t.send({ from: accounts[0] })\n\t\t\t.on(\"transactionHash\", (hash) => {\n\t\t\t\tsetReload(reload + 1);\n\t\t\t});\n\t};\n\n\tif (loading === true) {\n\t\treturn <div className=\"container text-center\">Loading...</div>;\n\t}\n\treturn (\n\t\t<div className=\"mx-5\">\n\t\t\t<Header />\n\t\t\t<Body\n\t\t\t\tapprovers={approvers}\n\t\t\t\tquorum={quorum}\n\t\t\t\ttransfers={transfers}\n\t\t\t\tapproveTransfer={approveTransfer}\n\t\t\t\tcreateTransfer={createTransfer}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}